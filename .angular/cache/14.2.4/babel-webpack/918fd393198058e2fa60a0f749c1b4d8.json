{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DbStatsOperation = exports.CollStatsOperation = void 0;\n\nconst operation_1 = require(\"./operation\");\n\nconst command_1 = require(\"./command\");\n/**\n * Get all the collection statistics.\n * @internal\n */\n\n\nclass CollStatsOperation extends command_1.CommandOperation {\n  /**\n   * Construct a Stats operation.\n   *\n   * @param collection - Collection instance\n   * @param options - Optional settings. See Collection.prototype.stats for a list of options.\n   */\n  constructor(collection, options) {\n    super(collection, options);\n    this.options = options !== null && options !== void 0 ? options : {};\n    this.collectionName = collection.collectionName;\n  }\n\n  execute(server, session, callback) {\n    const command = {\n      collStats: this.collectionName\n    };\n\n    if (this.options.scale != null) {\n      command.scale = this.options.scale;\n    }\n\n    super.executeCommand(server, session, command, callback);\n  }\n\n}\n\nexports.CollStatsOperation = CollStatsOperation;\n/** @internal */\n\nclass DbStatsOperation extends command_1.CommandOperation {\n  constructor(db, options) {\n    super(db, options);\n    this.options = options;\n  }\n\n  execute(server, session, callback) {\n    const command = {\n      dbStats: true\n    };\n\n    if (this.options.scale != null) {\n      command.scale = this.options.scale;\n    }\n\n    super.executeCommand(server, session, command, callback);\n  }\n\n}\n\nexports.DbStatsOperation = DbStatsOperation;\noperation_1.defineAspects(CollStatsOperation, [operation_1.Aspect.READ_OPERATION]);\noperation_1.defineAspects(DbStatsOperation, [operation_1.Aspect.READ_OPERATION]);","map":{"version":3,"names":["Object","defineProperty","exports","value","DbStatsOperation","CollStatsOperation","operation_1","require","command_1","CommandOperation","constructor","collection","options","collectionName","execute","server","session","callback","command","collStats","scale","executeCommand","db","dbStats","defineAspects","Aspect","READ_OPERATION"],"sources":["/Users/yoannesfigueiras/node_modules/mongodb/lib/operations/stats.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DbStatsOperation = exports.CollStatsOperation = void 0;\nconst operation_1 = require(\"./operation\");\nconst command_1 = require(\"./command\");\n/**\n * Get all the collection statistics.\n * @internal\n */\nclass CollStatsOperation extends command_1.CommandOperation {\n    /**\n     * Construct a Stats operation.\n     *\n     * @param collection - Collection instance\n     * @param options - Optional settings. See Collection.prototype.stats for a list of options.\n     */\n    constructor(collection, options) {\n        super(collection, options);\n        this.options = options !== null && options !== void 0 ? options : {};\n        this.collectionName = collection.collectionName;\n    }\n    execute(server, session, callback) {\n        const command = { collStats: this.collectionName };\n        if (this.options.scale != null) {\n            command.scale = this.options.scale;\n        }\n        super.executeCommand(server, session, command, callback);\n    }\n}\nexports.CollStatsOperation = CollStatsOperation;\n/** @internal */\nclass DbStatsOperation extends command_1.CommandOperation {\n    constructor(db, options) {\n        super(db, options);\n        this.options = options;\n    }\n    execute(server, session, callback) {\n        const command = { dbStats: true };\n        if (this.options.scale != null) {\n            command.scale = this.options.scale;\n        }\n        super.executeCommand(server, session, command, callback);\n    }\n}\nexports.DbStatsOperation = DbStatsOperation;\noperation_1.defineAspects(CollStatsOperation, [operation_1.Aspect.READ_OPERATION]);\noperation_1.defineAspects(DbStatsOperation, [operation_1.Aspect.READ_OPERATION]);\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,gBAAR,GAA2BF,OAAO,CAACG,kBAAR,GAA6B,KAAK,CAA7D;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAzB;AACA;AACA;AACA;AACA;;;AACA,MAAMF,kBAAN,SAAiCG,SAAS,CAACC,gBAA3C,CAA4D;EACxD;AACJ;AACA;AACA;AACA;AACA;EACIC,WAAW,CAACC,UAAD,EAAaC,OAAb,EAAsB;IAC7B,MAAMD,UAAN,EAAkBC,OAAlB;IACA,KAAKA,OAAL,GAAeA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyCA,OAAzC,GAAmD,EAAlE;IACA,KAAKC,cAAL,GAAsBF,UAAU,CAACE,cAAjC;EACH;;EACDC,OAAO,CAACC,MAAD,EAASC,OAAT,EAAkBC,QAAlB,EAA4B;IAC/B,MAAMC,OAAO,GAAG;MAAEC,SAAS,EAAE,KAAKN;IAAlB,CAAhB;;IACA,IAAI,KAAKD,OAAL,CAAaQ,KAAb,IAAsB,IAA1B,EAAgC;MAC5BF,OAAO,CAACE,KAAR,GAAgB,KAAKR,OAAL,CAAaQ,KAA7B;IACH;;IACD,MAAMC,cAAN,CAAqBN,MAArB,EAA6BC,OAA7B,EAAsCE,OAAtC,EAA+CD,QAA/C;EACH;;AAlBuD;;AAoB5Df,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;AACA;;AACA,MAAMD,gBAAN,SAA+BI,SAAS,CAACC,gBAAzC,CAA0D;EACtDC,WAAW,CAACY,EAAD,EAAKV,OAAL,EAAc;IACrB,MAAMU,EAAN,EAAUV,OAAV;IACA,KAAKA,OAAL,GAAeA,OAAf;EACH;;EACDE,OAAO,CAACC,MAAD,EAASC,OAAT,EAAkBC,QAAlB,EAA4B;IAC/B,MAAMC,OAAO,GAAG;MAAEK,OAAO,EAAE;IAAX,CAAhB;;IACA,IAAI,KAAKX,OAAL,CAAaQ,KAAb,IAAsB,IAA1B,EAAgC;MAC5BF,OAAO,CAACE,KAAR,GAAgB,KAAKR,OAAL,CAAaQ,KAA7B;IACH;;IACD,MAAMC,cAAN,CAAqBN,MAArB,EAA6BC,OAA7B,EAAsCE,OAAtC,EAA+CD,QAA/C;EACH;;AAXqD;;AAa1Df,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B;AACAE,WAAW,CAACkB,aAAZ,CAA0BnB,kBAA1B,EAA8C,CAACC,WAAW,CAACmB,MAAZ,CAAmBC,cAApB,CAA9C;AACApB,WAAW,CAACkB,aAAZ,CAA0BpB,gBAA1B,EAA4C,CAACE,WAAW,CAACmB,MAAZ,CAAmBC,cAApB,CAA5C"},"metadata":{},"sourceType":"script"}