{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ListDatabasesOperation = void 0;\n\nconst command_1 = require(\"./command\");\n\nconst operation_1 = require(\"./operation\");\n\nconst utils_1 = require(\"../utils\");\n/** @internal */\n\n\nclass ListDatabasesOperation extends command_1.CommandOperation {\n  constructor(db, options) {\n    super(db, options);\n    this.options = options !== null && options !== void 0 ? options : {};\n    this.ns = new utils_1.MongoDBNamespace('admin', '$cmd');\n  }\n\n  execute(server, session, callback) {\n    const cmd = {\n      listDatabases: 1\n    };\n\n    if (this.options.nameOnly) {\n      cmd.nameOnly = Number(cmd.nameOnly);\n    }\n\n    if (this.options.filter) {\n      cmd.filter = this.options.filter;\n    }\n\n    if (typeof this.options.authorizedDatabases === 'boolean') {\n      cmd.authorizedDatabases = this.options.authorizedDatabases;\n    }\n\n    super.executeCommand(server, session, cmd, callback);\n  }\n\n}\n\nexports.ListDatabasesOperation = ListDatabasesOperation;\noperation_1.defineAspects(ListDatabasesOperation, [operation_1.Aspect.READ_OPERATION, operation_1.Aspect.RETRYABLE]);","map":{"version":3,"names":["Object","defineProperty","exports","value","ListDatabasesOperation","command_1","require","operation_1","utils_1","CommandOperation","constructor","db","options","ns","MongoDBNamespace","execute","server","session","callback","cmd","listDatabases","nameOnly","Number","filter","authorizedDatabases","executeCommand","defineAspects","Aspect","READ_OPERATION","RETRYABLE"],"sources":["/Users/yoannesfigueiras/node_modules/mongodb/lib/operations/list_databases.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListDatabasesOperation = void 0;\nconst command_1 = require(\"./command\");\nconst operation_1 = require(\"./operation\");\nconst utils_1 = require(\"../utils\");\n/** @internal */\nclass ListDatabasesOperation extends command_1.CommandOperation {\n    constructor(db, options) {\n        super(db, options);\n        this.options = options !== null && options !== void 0 ? options : {};\n        this.ns = new utils_1.MongoDBNamespace('admin', '$cmd');\n    }\n    execute(server, session, callback) {\n        const cmd = { listDatabases: 1 };\n        if (this.options.nameOnly) {\n            cmd.nameOnly = Number(cmd.nameOnly);\n        }\n        if (this.options.filter) {\n            cmd.filter = this.options.filter;\n        }\n        if (typeof this.options.authorizedDatabases === 'boolean') {\n            cmd.authorizedDatabases = this.options.authorizedDatabases;\n        }\n        super.executeCommand(server, session, cmd, callback);\n    }\n}\nexports.ListDatabasesOperation = ListDatabasesOperation;\noperation_1.defineAspects(ListDatabasesOperation, [operation_1.Aspect.READ_OPERATION, operation_1.Aspect.RETRYABLE]);\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,sBAAR,GAAiC,KAAK,CAAtC;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,UAAD,CAAvB;AACA;;;AACA,MAAMF,sBAAN,SAAqCC,SAAS,CAACI,gBAA/C,CAAgE;EAC5DC,WAAW,CAACC,EAAD,EAAKC,OAAL,EAAc;IACrB,MAAMD,EAAN,EAAUC,OAAV;IACA,KAAKA,OAAL,GAAeA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyCA,OAAzC,GAAmD,EAAlE;IACA,KAAKC,EAAL,GAAU,IAAIL,OAAO,CAACM,gBAAZ,CAA6B,OAA7B,EAAsC,MAAtC,CAAV;EACH;;EACDC,OAAO,CAACC,MAAD,EAASC,OAAT,EAAkBC,QAAlB,EAA4B;IAC/B,MAAMC,GAAG,GAAG;MAAEC,aAAa,EAAE;IAAjB,CAAZ;;IACA,IAAI,KAAKR,OAAL,CAAaS,QAAjB,EAA2B;MACvBF,GAAG,CAACE,QAAJ,GAAeC,MAAM,CAACH,GAAG,CAACE,QAAL,CAArB;IACH;;IACD,IAAI,KAAKT,OAAL,CAAaW,MAAjB,EAAyB;MACrBJ,GAAG,CAACI,MAAJ,GAAa,KAAKX,OAAL,CAAaW,MAA1B;IACH;;IACD,IAAI,OAAO,KAAKX,OAAL,CAAaY,mBAApB,KAA4C,SAAhD,EAA2D;MACvDL,GAAG,CAACK,mBAAJ,GAA0B,KAAKZ,OAAL,CAAaY,mBAAvC;IACH;;IACD,MAAMC,cAAN,CAAqBT,MAArB,EAA6BC,OAA7B,EAAsCE,GAAtC,EAA2CD,QAA3C;EACH;;AAlB2D;;AAoBhEhB,OAAO,CAACE,sBAAR,GAAiCA,sBAAjC;AACAG,WAAW,CAACmB,aAAZ,CAA0BtB,sBAA1B,EAAkD,CAACG,WAAW,CAACoB,MAAZ,CAAmBC,cAApB,EAAoCrB,WAAW,CAACoB,MAAZ,CAAmBE,SAAvD,CAAlD"},"metadata":{},"sourceType":"script"}