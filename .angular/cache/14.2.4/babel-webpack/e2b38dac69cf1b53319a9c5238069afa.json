{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WriteConcern = exports.WRITE_CONCERN_KEYS = void 0;\nexports.WRITE_CONCERN_KEYS = ['w', 'wtimeout', 'j', 'journal', 'fsync'];\n/**\n * A MongoDB WriteConcern, which describes the level of acknowledgement\n * requested from MongoDB for write operations.\n * @public\n *\n * @see https://docs.mongodb.com/manual/reference/write-concern/\n */\n\nclass WriteConcern {\n  /**\n   * Constructs a WriteConcern from the write concern properties.\n   * @param w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.\n   * @param wtimeout - specify a time limit to prevent write operations from blocking indefinitely\n   * @param j - request acknowledgment that the write operation has been written to the on-disk journal\n   * @param fsync - equivalent to the j option\n   */\n  constructor(w, wtimeout, j, fsync) {\n    if (w != null) {\n      if (!Number.isNaN(Number(w))) {\n        this.w = Number(w);\n      } else {\n        this.w = w;\n      }\n    }\n\n    if (wtimeout != null) {\n      this.wtimeout = wtimeout;\n    }\n\n    if (j != null) {\n      this.j = j;\n    }\n\n    if (fsync != null) {\n      this.fsync = fsync;\n    }\n  }\n  /** Construct a WriteConcern given an options object. */\n\n\n  static fromOptions(options, inherit) {\n    if (options == null) return undefined;\n    inherit = inherit !== null && inherit !== void 0 ? inherit : {};\n    let opts;\n\n    if (typeof options === 'string' || typeof options === 'number') {\n      opts = {\n        w: options\n      };\n    } else if (options instanceof WriteConcern) {\n      opts = options;\n    } else {\n      opts = options.writeConcern;\n    }\n\n    const parentOpts = inherit instanceof WriteConcern ? inherit : inherit.writeConcern;\n    const {\n      w = undefined,\n      wtimeout = undefined,\n      j = undefined,\n      fsync = undefined,\n      journal = undefined,\n      wtimeoutMS = undefined\n    } = { ...parentOpts,\n      ...opts\n    };\n\n    if (w != null || wtimeout != null || wtimeoutMS != null || j != null || journal != null || fsync != null) {\n      return new WriteConcern(w, wtimeout !== null && wtimeout !== void 0 ? wtimeout : wtimeoutMS, j !== null && j !== void 0 ? j : journal, fsync);\n    }\n\n    return undefined;\n  }\n\n}\n\nexports.WriteConcern = WriteConcern;","map":{"version":3,"names":["Object","defineProperty","exports","value","WriteConcern","WRITE_CONCERN_KEYS","constructor","w","wtimeout","j","fsync","Number","isNaN","fromOptions","options","inherit","undefined","opts","writeConcern","parentOpts","journal","wtimeoutMS"],"sources":["/Users/yoannesfigueiras/node_modules/mongodb/lib/write_concern.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteConcern = exports.WRITE_CONCERN_KEYS = void 0;\nexports.WRITE_CONCERN_KEYS = ['w', 'wtimeout', 'j', 'journal', 'fsync'];\n/**\n * A MongoDB WriteConcern, which describes the level of acknowledgement\n * requested from MongoDB for write operations.\n * @public\n *\n * @see https://docs.mongodb.com/manual/reference/write-concern/\n */\nclass WriteConcern {\n    /**\n     * Constructs a WriteConcern from the write concern properties.\n     * @param w - request acknowledgment that the write operation has propagated to a specified number of mongod instances or to mongod instances with specified tags.\n     * @param wtimeout - specify a time limit to prevent write operations from blocking indefinitely\n     * @param j - request acknowledgment that the write operation has been written to the on-disk journal\n     * @param fsync - equivalent to the j option\n     */\n    constructor(w, wtimeout, j, fsync) {\n        if (w != null) {\n            if (!Number.isNaN(Number(w))) {\n                this.w = Number(w);\n            }\n            else {\n                this.w = w;\n            }\n        }\n        if (wtimeout != null) {\n            this.wtimeout = wtimeout;\n        }\n        if (j != null) {\n            this.j = j;\n        }\n        if (fsync != null) {\n            this.fsync = fsync;\n        }\n    }\n    /** Construct a WriteConcern given an options object. */\n    static fromOptions(options, inherit) {\n        if (options == null)\n            return undefined;\n        inherit = inherit !== null && inherit !== void 0 ? inherit : {};\n        let opts;\n        if (typeof options === 'string' || typeof options === 'number') {\n            opts = { w: options };\n        }\n        else if (options instanceof WriteConcern) {\n            opts = options;\n        }\n        else {\n            opts = options.writeConcern;\n        }\n        const parentOpts = inherit instanceof WriteConcern ? inherit : inherit.writeConcern;\n        const { w = undefined, wtimeout = undefined, j = undefined, fsync = undefined, journal = undefined, wtimeoutMS = undefined } = {\n            ...parentOpts,\n            ...opts\n        };\n        if (w != null ||\n            wtimeout != null ||\n            wtimeoutMS != null ||\n            j != null ||\n            journal != null ||\n            fsync != null) {\n            return new WriteConcern(w, wtimeout !== null && wtimeout !== void 0 ? wtimeout : wtimeoutMS, j !== null && j !== void 0 ? j : journal, fsync);\n        }\n        return undefined;\n    }\n}\nexports.WriteConcern = WriteConcern;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,YAAR,GAAuBF,OAAO,CAACG,kBAAR,GAA6B,KAAK,CAAzD;AACAH,OAAO,CAACG,kBAAR,GAA6B,CAAC,GAAD,EAAM,UAAN,EAAkB,GAAlB,EAAuB,SAAvB,EAAkC,OAAlC,CAA7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMD,YAAN,CAAmB;EACf;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,WAAW,CAACC,CAAD,EAAIC,QAAJ,EAAcC,CAAd,EAAiBC,KAAjB,EAAwB;IAC/B,IAAIH,CAAC,IAAI,IAAT,EAAe;MACX,IAAI,CAACI,MAAM,CAACC,KAAP,CAAaD,MAAM,CAACJ,CAAD,CAAnB,CAAL,EAA8B;QAC1B,KAAKA,CAAL,GAASI,MAAM,CAACJ,CAAD,CAAf;MACH,CAFD,MAGK;QACD,KAAKA,CAAL,GAASA,CAAT;MACH;IACJ;;IACD,IAAIC,QAAQ,IAAI,IAAhB,EAAsB;MAClB,KAAKA,QAAL,GAAgBA,QAAhB;IACH;;IACD,IAAIC,CAAC,IAAI,IAAT,EAAe;MACX,KAAKA,CAAL,GAASA,CAAT;IACH;;IACD,IAAIC,KAAK,IAAI,IAAb,EAAmB;MACf,KAAKA,KAAL,GAAaA,KAAb;IACH;EACJ;EACD;;;EACkB,OAAXG,WAAW,CAACC,OAAD,EAAUC,OAAV,EAAmB;IACjC,IAAID,OAAO,IAAI,IAAf,EACI,OAAOE,SAAP;IACJD,OAAO,GAAGA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyCA,OAAzC,GAAmD,EAA7D;IACA,IAAIE,IAAJ;;IACA,IAAI,OAAOH,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAP,KAAmB,QAAtD,EAAgE;MAC5DG,IAAI,GAAG;QAAEV,CAAC,EAAEO;MAAL,CAAP;IACH,CAFD,MAGK,IAAIA,OAAO,YAAYV,YAAvB,EAAqC;MACtCa,IAAI,GAAGH,OAAP;IACH,CAFI,MAGA;MACDG,IAAI,GAAGH,OAAO,CAACI,YAAf;IACH;;IACD,MAAMC,UAAU,GAAGJ,OAAO,YAAYX,YAAnB,GAAkCW,OAAlC,GAA4CA,OAAO,CAACG,YAAvE;IACA,MAAM;MAAEX,CAAC,GAAGS,SAAN;MAAiBR,QAAQ,GAAGQ,SAA5B;MAAuCP,CAAC,GAAGO,SAA3C;MAAsDN,KAAK,GAAGM,SAA9D;MAAyEI,OAAO,GAAGJ,SAAnF;MAA8FK,UAAU,GAAGL;IAA3G,IAAyH,EAC3H,GAAGG,UADwH;MAE3H,GAAGF;IAFwH,CAA/H;;IAIA,IAAIV,CAAC,IAAI,IAAL,IACAC,QAAQ,IAAI,IADZ,IAEAa,UAAU,IAAI,IAFd,IAGAZ,CAAC,IAAI,IAHL,IAIAW,OAAO,IAAI,IAJX,IAKAV,KAAK,IAAI,IALb,EAKmB;MACf,OAAO,IAAIN,YAAJ,CAAiBG,CAAjB,EAAoBC,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2CA,QAA3C,GAAsDa,UAA1E,EAAsFZ,CAAC,KAAK,IAAN,IAAcA,CAAC,KAAK,KAAK,CAAzB,GAA6BA,CAA7B,GAAiCW,OAAvH,EAAgIV,KAAhI,CAAP;IACH;;IACD,OAAOM,SAAP;EACH;;AAxDc;;AA0DnBd,OAAO,CAACE,YAAR,GAAuBA,YAAvB"},"metadata":{},"sourceType":"script"}