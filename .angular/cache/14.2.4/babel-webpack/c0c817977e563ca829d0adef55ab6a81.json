{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PromiseProvider = void 0;\n\nconst error_1 = require(\"./error\");\n/** @internal */\n\n\nconst kPromise = Symbol('promise');\nconst store = {\n  [kPromise]: undefined\n};\n/**\n * Global promise store allowing user-provided promises\n * @public\n */\n\nclass PromiseProvider {\n  /** Validates the passed in promise library */\n  static validate(lib) {\n    if (typeof lib !== 'function') throw new error_1.MongoInvalidArgumentError(`Promise must be a function, got ${lib}`);\n    return !!lib;\n  }\n  /** Sets the promise library */\n\n\n  static set(lib) {\n    if (!PromiseProvider.validate(lib)) {\n      // validate\n      return;\n    }\n\n    store[kPromise] = lib;\n  }\n  /** Get the stored promise library, or resolves passed in */\n\n\n  static get() {\n    return store[kPromise];\n  }\n\n}\n\nexports.PromiseProvider = PromiseProvider;\nPromiseProvider.set(global.Promise);","map":{"version":3,"names":["Object","defineProperty","exports","value","PromiseProvider","error_1","require","kPromise","Symbol","store","undefined","validate","lib","MongoInvalidArgumentError","set","get","global","Promise"],"sources":["/Users/yoannesfigueiras/node_modules/mongodb/lib/promise_provider.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PromiseProvider = void 0;\nconst error_1 = require(\"./error\");\n/** @internal */\nconst kPromise = Symbol('promise');\nconst store = {\n    [kPromise]: undefined\n};\n/**\n * Global promise store allowing user-provided promises\n * @public\n */\nclass PromiseProvider {\n    /** Validates the passed in promise library */\n    static validate(lib) {\n        if (typeof lib !== 'function')\n            throw new error_1.MongoInvalidArgumentError(`Promise must be a function, got ${lib}`);\n        return !!lib;\n    }\n    /** Sets the promise library */\n    static set(lib) {\n        if (!PromiseProvider.validate(lib)) {\n            // validate\n            return;\n        }\n        store[kPromise] = lib;\n    }\n    /** Get the stored promise library, or resolves passed in */\n    static get() {\n        return store[kPromise];\n    }\n}\nexports.PromiseProvider = PromiseProvider;\nPromiseProvider.set(global.Promise);\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;AACA;;;AACA,MAAMC,QAAQ,GAAGC,MAAM,CAAC,SAAD,CAAvB;AACA,MAAMC,KAAK,GAAG;EACV,CAACF,QAAD,GAAYG;AADF,CAAd;AAGA;AACA;AACA;AACA;;AACA,MAAMN,eAAN,CAAsB;EAClB;EACe,OAARO,QAAQ,CAACC,GAAD,EAAM;IACjB,IAAI,OAAOA,GAAP,KAAe,UAAnB,EACI,MAAM,IAAIP,OAAO,CAACQ,yBAAZ,CAAuC,mCAAkCD,GAAI,EAA7E,CAAN;IACJ,OAAO,CAAC,CAACA,GAAT;EACH;EACD;;;EACU,OAAHE,GAAG,CAACF,GAAD,EAAM;IACZ,IAAI,CAACR,eAAe,CAACO,QAAhB,CAAyBC,GAAzB,CAAL,EAAoC;MAChC;MACA;IACH;;IACDH,KAAK,CAACF,QAAD,CAAL,GAAkBK,GAAlB;EACH;EACD;;;EACU,OAAHG,GAAG,GAAG;IACT,OAAON,KAAK,CAACF,QAAD,CAAZ;EACH;;AAlBiB;;AAoBtBL,OAAO,CAACE,eAAR,GAA0BA,eAA1B;AACAA,eAAe,CAACU,GAAhB,CAAoBE,MAAM,CAACC,OAA3B"},"metadata":{},"sourceType":"script"}